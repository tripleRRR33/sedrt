<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Quiz Culture Pop</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f0f2f5;
        }

        .container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .category-select {
            margin-bottom: 20px;
        }

        select {
            padding: 10px;
            width: 100%;
            margin-bottom: 20px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }

        .question-container {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .category {
            color: #1a73e8;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .options {
            display: grid;
            gap: 10px;
            margin-top: 15px;
        }

        button {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.2s;
        }

        .option-btn {
            background-color: #1a73e8;
            color: white;
            width: 100%;
            text-align: left;
        }

        .option-btn:hover {
            background-color: #1557b0;
        }

        .option-btn.correct {
            background-color: #34a853;
        }

        .option-btn.incorrect {
            background-color: #ea4335;
        }

        .option-btn.disabled {
            background-color: #ddd;
            cursor: not-allowed;
        }

        .next-btn {
            background-color: #1a73e8;
            color: white;
            float: right;
        }

        .explanation {
            margin-top: 15px;
            padding: 15px;
            background-color: #e8f0fe;
            border-radius: 4px;
            display: none;
        }

        .score-container {
            text-align: center;
            display: none;
        }

        .score {
            font-size: 24px;
            font-weight: bold;
            margin: 20px 0;
        }

        .restart-btn {
            background-color: #1a73e8;
            color: white;
        }

        #progress {
            margin-bottom: 20px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Quiz Culture Pop</h1>
        
        <div class="category-select">
            <select id="categorySelect">
                <option value="">Sélectionnez une catégorie</option>
                <option value="cinema">Cinéma et Séries</option>
                <option value="musique">Musique</option>
                <option value="jeuxVideo">Jeux Vidéo</option>
                <option value="television">Télévision</option>
                <option value="comics">Comics et Super-héros</option>
                <option value="litterature">Littérature</option>
                <option value="internet">Internet et Mèmes</option>
            </select>
        </div>

        <div id="progress"></div>

        <div id="quizContainer">
            <div class="question-container">
                <div class="category" id="currentCategory"></div>
                <div id="question"></div>
                <div class="options" id="options"></div>
                <div class="explanation" id="explanation"></div>
            </div>
            <button class="next-btn" id="nextBtn" style="display: none;">Question suivante</button>
        </div>

        <div class="score-container" id="scoreContainer">
            <div class="score" id="score"></div>
            <button class="restart-btn" id="restartBtn">Recommencer le quiz</button>
        </div>
    </div>

    <script>
        const questions = {
            cinema: [
                {
                    question: "Quel est le film le plus rentable de tous les temps, ajusté pour l'inflation ?",
                    options: ["Autant en emporte le vent", "Avatar", "Titanic", "Star Wars"],
                    answer: "Autant en emporte le vent",
                    explanation: "Bien qu'il ait été dépassé par Avatar en termes de recettes brutes, Autant en emporte le vent reste le plus rentable si l'on ajuste les recettes à l'inflation."
                },
                {
                    question: "Quel film a introduit le personnage de Thanos dans l'univers cinématographique Marvel ?",
                    options: ["Les Avengers", "Iron Man", "Thor", "Guardians of the Galaxy"],
                    answer: "Les Avengers",
                    explanation: "Bien que Thanos apparaisse brièvement dans la scène post-générique, c'est dans Avengers que le personnage commence à prendre une place importante dans l'univers cinématographique Marvel."
                }
                // Ajoutez plus de questions ici
            ],
            musique: [
                {
                    question: "Quel est le groupe légendaire qui a écrit Bohemian Rhapsody ?",
                    options: ["Queen", "The Beatles", "Pink Floyd", "Led Zeppelin"],
                    answer: "Queen",
                    explanation: "Cette chanson, écrite par Freddie Mercury, est l'une des compositions les plus célèbres et les plus originales du groupe, connue pour sa structure complexe et ses performances vocales impressionnantes."
                }
                // Ajoutez plus de questions ici
            ],
            // Ajoutez plus de catégories ici
        };

        let currentCategory = '';
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let answeredQuestion = false;

        const categorySelect = document.getElementById('categorySelect');
        const quizContainer = document.getElementById('quizContainer');
        const scoreContainer = document.getElementById('scoreContainer');
        const questionElement = document.getElementById('question');
        const optionsElement = document.getElementById('options');
        const explanationElement = document.getElementById('explanation');
        const nextBtn = document.getElementById('nextBtn');
        const currentCategoryElement = document.getElementById('currentCategory');
        const progressElement = document.getElementById('progress');

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function startQuiz(category) {
            currentCategory = category;
            currentQuestions = shuffleArray([...questions[category]]);
            currentQuestionIndex = 0;
            score = 0;
            showQuestion();
            quizContainer.style.display = 'block';
            scoreContainer.style.display = 'none';
            updateProgress();
        }

        function showQuestion() {
            const question = currentQuestions[currentQuestionIndex];
            currentCategoryElement.textContent = categorySelect.options[categorySelect.selectedIndex].text;
            questionElement.textContent = question.question;
            optionsElement.innerHTML = '';
            explanationElement.style.display = 'none';
            nextBtn.style.display = 'none';
            answeredQuestion = false;

            question.options.forEach(option => {
                const button = document.createElement('button');
                button.className = 'option-btn';
                button.textContent = option;
                button.onclick = () => selectAnswer(option);
                optionsElement.appendChild(button);
            });
        }

        function selectAnswer(selectedOption) {
            if (answeredQuestion) return;
            answeredQuestion = true;

            const question = currentQuestions[currentQuestionIndex];
            const buttons = optionsElement.getElementsByClassName('option-btn');

            Array.from(buttons).forEach(button => {
                button.classList.add('disabled');
                if (button.textContent === question.answer) {
                    button.classList.add('correct');
                } else if (button.textContent === selectedOption) {
                    button.classList.add('incorrect');
                }
            });

            if (selectedOption === question.answer) {
                score++;
            }

            explanationElement.textContent = question.explanation;
            explanationElement.style.display = 'block';
            nextBtn.style.display = 'block';
        }

        function updateProgress() {
            progressElement.textContent = `Question ${currentQuestionIndex + 1} sur ${currentQuestions.length}`;
        }

        function showScore() {
            quizContainer.style.display = 'none';
            scoreContainer.style.display = 'block';
            const scoreElement = document.getElementById('score');
            const percentage = (score / currentQuestions.length) * 100;
            scoreElement.textContent = `Score: ${score}/${currentQuestions.length} (${percentage}%)`;
        }

        categorySelect.onchange = (e) => {
            if (e.target.value) {
                startQuiz(e.target.value);
            }
        };

        nextBtn.onclick = () => {
            currentQuestionIndex++;
            if (currentQuestionIndex < currentQuestions.length) {
                showQuestion();
                updateProgress();
            } else {
                showScore();
            }
        };

        document.getElementById('restartBtn').onclick = () => {
            categorySelect.value = '';
            quizContainer.style.display = 'none';
            scoreContainer.style.display = 'none';
        };
    </script>
</body>
</html>
